import { Bytes } from '@oasislabs/types';
export declare type DeployHeaderOptions = {
    expiry?: number;
    confidential?: boolean;
};
export declare class DeployHeaderError extends Error {
}
export declare class DeployHeader {
    version: number;
    body: DeployHeaderOptions;
    /**
     * @param {Number} version is the header version number.
     * @param {Object} is the header body with two fields, expiry (Number)
     *        and confidential (boolean).
     */
    constructor(version: number, body: DeployHeaderOptions);
    data(): string;
    /**
     * @param   {Object} headerBody is the header object to encode.
     * @param   {String} deploycode is a hex string of the current code to which we
     *          want to prefix the header.
     * @returns The deploycode with the header prefixed as the encoded wire format, i.e.,
     *          b'\0sis' || version (2 bytes little endian) || length (2 bytes little endian) || json-header.
     *          Overrides any header fields that may already exist in the deploycode.
     */
    static deployCode(headerBody: DeployHeaderOptions, deploycode: Bytes): Bytes;
    private static deployCodePreconditions;
    /**
     * @returns true iff the keys in the headerBody are part of the valid set.
     */
    static isValidBody(headerBody: DeployHeaderOptions): boolean;
    /**
     * Returns the current version of the header.
     */
    static currentVersion(): number;
    /**
     * Hex representation of b'\0sis'.
     */
    static prefix(): string;
}
/**
 * A collection of utilities for parsing through deploycode including the Oasis contract
 * deploy header in the form of a hex string.
 */
export declare class DeployHeaderReader {
    /**
     * @param   {String} deploycode is the transaction data to deploy a contract as a hex string.
     * @returns the contract deploy header prefixed to the deploycode, otherwise, null.
     */
    static header(deploycode: Bytes): DeployHeader | null;
    /**
     * @param {String} deploycode is a hex string of the header || initcode.
     */
    static body(deploycode: Bytes): DeployHeaderOptions;
    /**
     * @param {String} deploycode is a hex string of the header || initcode.
     */
    static size(deploycode: Bytes): number;
    /**
     * @param {String} deploycode is a hex string of the header || initcode.
     */
    static version(deploycode: Bytes): number;
    /**
     * @param {String} deploycode is a hex string of the header || initcode.
     */
    static initcode(deploycode: Bytes): string;
    private static initcodeStart;
    /**
     * @returns the hex string index of the start section.
     */
    private static versionStart;
    /**
     * @returns the length of the version in nibbles.
     */
    static versionLength(): number;
    /**
     * @returns the index of the starting point of the size section.
     */
    private static sizeStart;
    /**
     * @returns the length of the header size in nibbles.
     */
    private static sizeLength;
    /**
     * @returns the hex string index of the body section.
     */
    private static bodyStart;
}
export declare class DeployHeaderWriter {
    static size(body: Bytes): string;
    static version(version: number): string;
    static body(body: DeployHeaderOptions): string;
}
declare function parseHex(deploycode: Bytes): DeployHeader | null;
export declare const header: {
    parseHex: typeof parseHex;
};
export {};
